---
import ActionButton from "./buttons/ActionButton.astro";
import GenericButton from "./buttons/GenericButton.astro";
import HeaderAlert from "./HeaderAlert.astro";
import SubmitButton from "./buttons/SubmitButton.astro";
---

<script>
    const markEmpty = document.getElementById('bookmarkEmpty');
    const markFilled = document.getElementById('bookmarkFilled');

    switch (localStorage.getItem('bookmark')) {
        case 'empty':
            makeEmpty();
            break;
        case 'filled':
            setTimeout(function() {
                makeFilled();
            }, 100)
            break;
        default:
            makeEmpty();
            localStorage.setItem('bookmark', 'empty')
            break;
    }


    function makeEmpty() {
        markEmpty.style.display = 'block';
        markFilled.style.display = 'none';
    }

    function makeFilled() {
        markFilled.style.display = 'block';
        markEmpty.style.display = 'none';
    }

    markEmpty.addEventListener('click', () => {
        makeFilled()
        localStorage.setItem('bookmark', 'filled')
    })
    markFilled.addEventListener('click', () => {
        makeEmpty()
        localStorage.setItem('bookmark', 'empty')
    })

</script>

<header>
    <div>
        <h1>
            <svg id="bookmarkEmpty" data-slot="icon" aria-hidden="true" fill="none" stroke-width="1.5"
                 stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"
                      stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg id="bookmarkFilled" class="hide" data-slot="icon" aria-hidden="true" fill="#3574F0" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path clip-rule="evenodd"
                      d="M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z"
                      fill-rule="evenodd"></path>
            </svg>
            the design repo
        </h1>
        <div class="menu">

            <ActionButton
                    buttonText='Submit resources'
                    href="/"
                    label='Aria Label2'
                    target="_blank"
            />

        </div>
    </div>
</header>
<HeaderAlert/>


<style>

    .headerWrap {
        display: flex;
    }

    .menu {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 0.5rem;
    }

    .hide {
        display: none;
    }

    header :has(h1) {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem 0 0 0;
    }

    h1 {
        display: flex;
        flex-direction: row;
        gap: 0.5rem;
        align-items: center;
        font-size: 1rem !important;
    }

    #bookmarkFilled {
        animation: filledBookmark 200ms 1 ease-in-out;
    }
    @keyframes filledBookmark {
        0% {scale: 0.5;}
        80% {scale: 1.2;}
        100% {scale: 1;}
    }

    svg {
        height: 1.2rem;
        color: #3574F0;
        cursor: pointer;
    }

    header {
        position: relative;
        margin: auto;
        max-width: 1400px;
        padding: 0 6%;
    }

</style>